<!DOCTYPE html>

<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        
        <meta name="author" content="The Python-Markdown Project">
        <link rel="canonical" href="https://Python-Markdown.github.io/extensions/fenced_code_blocks/">
        <link rel="shortcut icon" href="../../favicon.ico">
        <link rel="search" title="Search" href="../../search.html" />
        <link rel="next" title="Footnotes" href="../footnotes/" />
        <link rel="prev" title="Extra" href="../extra/" />
        <title>Fenced Code Blocks &#8212; Python-Markdown 3.3.4 documentation</title>
        <link rel="stylesheet" href="../../static/nature.css" type="text/css" />
        <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
        <script type="text/javascript" src="../../static/jquery.js"></script>
        <script type="text/javascript" src="../../static/underscore.js"></script> 
    </head>

    <body>
    <div class="related" role="navigation" aria-label="related navigation">
        <h3>Navigation</h3>
        <ul>
                <li class="right" style="margin-right: 10px">
                    <a href="https://github.com/Python-Markdown/markdown/" title="View this project on GitHub"><img src="../../static/github.png" width=16px style="vertical-align: middle; margin-top: -1px" /></a>
                </li>
            <li class="right" style="margin-right: 10px">
                <a href="../../sitemap.html" title="Sitemap" accesskey="I">index</a>
            </li>
            <li class="right">
                <a href="../footnotes/" title="Footnotes" accesskey="N">next</a> |
            </li>
            <li class="right">
                <a href="../extra/" title="Extra" accesskey="P">previous</a> |
            </li>
            <li><img src="../../py.png"
            alt="icon" style="vertical-align: middle; margin-top: -1px"/></li>
            <li class="nav-item nav-item-0">
                <a href="../..">Python-Markdown 3.3.4 documentation</a> &#187;
            </li>
                    
                    
                    
                    
                    
                    
        <li class="nav-item">
            Officially Supported Extensions
         &#187; </li>
                
                
                
                
                
                
                
        <li class="nav-item">
            <a href="./">Fenced Code Blocks</a>
         &#187; </li>
                
                
                
                
                
                
                
                
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
        </ul>
    </div>

        <div class="document">
            <div class="documentwrapper">
                <div class="bodywrapper">
                    <div class="body" role="main"><h1 id="fenced-code-blocks">Fenced Code Blocks<a class="headerlink" href="#fenced-code-blocks" title="Permanent link">&para;</a></h1>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>The Fenced Code Blocks extension adds a secondary way to define code blocks, which overcomes a few limitations of
indented code blocks.</p>
<p>This extension is included in the standard Markdown library.</p>
<h2 id="syntax">Syntax<a class="headerlink" href="#syntax" title="Permanent link">&para;</a></h2>
<p>Fenced Code Blocks are defined using the syntax originally established in <a href="http://www.michelf.com/projects/php-markdown/extra/#fenced-code-blocks">PHP Markdown Extra</a> and popularized by
<a href="https://help.github.com/en/github/writing-on-github/creating-and-highlighting-code-blocks">GitHub Flavored Markdown</a>.</p>
<p>Fenced code blocks begin with three or more backticks (<code>```</code>) or tildes (<code>~~~</code>) on a line by themselves and end with
a matching set of backticks or tildes on a line by themselves. The closing set must contain the same number and type
of characters as the opening set. It is recommended that a blank line be placed before and after the code block.</p>
<div class="codehilite"><pre><span></span><code>A paragraph before the code block.

<span class="s">```</span>
a one-line code block
<span class="s">```</span>

A paragraph after the code block.
</code></pre></div>

<p>While backticks seem to be more popular among users, tildes may be used as well.</p>
<div class="codehilite"><pre><span></span><code>~~~
a one-line code block
~~~
</code></pre></div>

<p>To include a set of backticks (or tildes) within a code block, use a different number of backticks for the
deliminators.</p>
<div class="codehilite"><pre><span></span><code>````
```
````
</code></pre></div>

<p>Fenced code blocks can have a blank line as the first and/or last line of the code block and those lines will be
preserved.</p>
<div class="codehilite"><pre><span></span><code><span class="s">```</span>

a three-line code block

<span class="s">```</span>
</code></pre></div>

<p>Unlike indented code blocks, a fenced code block can immediately follow a list item without becoming
part of the list.</p>
<div class="codehilite"><pre><span></span><code><span class="k">*</span> A list item.

<span class="s">```</span>
not part of the list
<span class="s">```</span>
</code></pre></div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Fenced Code Blocks are only supported at the document root level. Therefore, they cannot be nested inside lists or
blockquotes. If you need to nest fenced code blocks, you may want to try the third party extension <a href="https://facelessuser.github.io/pymdown-extensions/extensions/superfences/">SuperFences</a>
instead.</p>
</div>
<h3 id="attributes">Attributes<a class="headerlink" href="#attributes" title="Permanent link">&para;</a></h3>
<p>Various attributes may be defined on a per-code-block basis by defining them immediately following the opening
deliminator. The attributes should be wrapped in curly braces <code>{}</code> and be on the same line as the deliminator. It is
generally best to separate the attribute list from the deliminator with a space. Attributes within the list must be
separated by a space.</p>
<div class="codehilite"><pre><span></span><code>``` { attributes go here }
a code block with attributes
```
</code></pre></div>

<p>How those attributes will affect the output will depend on various factors as described below.</p>
<h4 id="language">Language<a class="headerlink" href="#language" title="Permanent link">&para;</a></h4>
<p>The language of the code within a code block can be specified for use by syntax highlighters, etc. The language should
be prefixed with a dot and not contain any whitespace (<code>.language-name</code>).</p>
<div class="codehilite"><pre><span></span><code>``` { .html }
&lt;p&gt;HTML Document&lt;/p&gt;
```
</code></pre></div>

<p>So long as the language is the only option specified, the curly brackets and/or the dot may be excluded:</p>
<div class="codehilite"><pre><span></span><code>``` html
&lt;p&gt;HTML Document&lt;/p&gt;
```
</code></pre></div>

<p>Either of the above examples will output the following HTML:</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">pre</span><span class="p">&gt;&lt;</span><span class="nt">code</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;language-html&quot;</span><span class="p">&gt;</span><span class="ni">&amp;lt;</span>p<span class="ni">&amp;gt;</span>HTML Document<span class="ni">&amp;lt;</span>/p<span class="ni">&amp;gt;</span>
<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span>
</code></pre></div>

<p>Note that the language name has been prefixed with <code>language-</code> and it has been assigned to the <code>class</code> attribute on
the <code>&lt;code&gt;</code> tag, which is the format suggested by the <a href="https://html.spec.whatwg.org/#the-code-element">HTML 5 Specification</a> (see the second &ldquo;example&rdquo; in the
Specification). While <code>language</code> is the default prefix, the prefix may be overridden using the
<a href="#lang_prefix"><code>lang_prefix</code></a> configuration option.</p>
<h4 id="classes">Classes<a class="headerlink" href="#classes" title="Permanent link">&para;</a></h4>
<p>In addition to the language, additional classes may be defined by prefixing them with a dot, just like the language.</p>
<div class="codehilite"><pre><span></span><code>``` { .html .foo .bar }
&lt;p&gt;HTML Document&lt;/p&gt;
```
</code></pre></div>

<p>When defining multiple classes, only the first class will be used as the &ldquo;language&rdquo; for the code block. All others are
assigned to the <code>&lt;pre&gt;</code> tag unaltered. Additionally, the curly braces and dot are required for all classes, including
the language class if more than one class is defined.</p>
<p>The above example will output the following HTML:</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">pre</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;foo bar&quot;</span><span class="p">&gt;&lt;</span><span class="nt">code</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;language-html&quot;</span><span class="p">&gt;</span><span class="ni">&amp;lt;</span>p<span class="ni">&amp;gt;</span>HTML Document<span class="ni">&amp;lt;</span>/p<span class="ni">&amp;gt;</span>
<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span>
</code></pre></div>

<h4 id="id">ID<a class="headerlink" href="#id" title="Permanent link">&para;</a></h4>
<p>An <code>id</code> can be defined for a code block, which would allow a link to point directly to the code block using a URL
hash. IDs must be prefixed with a hash character (<code>#</code>) and only contain characters permitted in HTML <code>id</code> attributes.</p>
<div class="codehilite"><pre><span></span><code>``` { <span class="ni">#example</span> }
A linkable code block
```
</code></pre></div>

<p>The <code>id</code> attribute is assigned to the <code>&lt;pre&gt;</code> tag of the output. The above example will output the following HTML:</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">pre</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;example&quot;</span><span class="p">&gt;&lt;</span><span class="nt">code</span><span class="p">&gt;</span>A linkable code block
<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span>
</code></pre></div>

<p>From elsewhere within the same document, one could link to the code block with <code>[link](#example)</code>.</p>
<p>IDs may be defined along with the language, other classes, or any other supported attributes. The order of items does
not matter.</p>
<div class="codehilite"><pre><span></span><code>``` { <span class="ni">#example</span> .lang .foo .bar }
A linkable code block
```
</code></pre></div>

<h4 id="keyvalue-pairs">Key/Value Pairs<a class="headerlink" href="#keyvalue-pairs" title="Permanent link">&para;</a></h4>
<p>If the <code>fenced_code</code> and <a href="../attr_list/"><code>attr_list</code></a> extensions are both enabled, then key/value pairs can be defined in
the attribute list. So long as code highlighting is not enabled (see below), the key/value pairs will be assigned as
attributes on the <code>&lt;code&gt;</code> tag in the output. Key/value pairs must be defined using the syntax documented for the
<code>attr_list</code> extension (for example, values with whitespace must be wrapped in quotes).</p>
<div class="codehilite"><pre><span></span><code>``` { .lang <span class="ni">#example</span> style=&quot;color: <span class="ni">#333</span>; background: <span class="ni">#f8f8f8</span>;&quot; }
A code block with inline styles. Fancy!
```
</code></pre></div>

<p>The above example will output the following HTML:</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">pre</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;example&quot;</span><span class="p">&gt;&lt;</span><span class="nt">code</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;language-lang&quot;</span>  <span class="na">style</span><span class="o">=</span><span class="s">&quot;color: #333; background: #f8f8f8;&quot;</span><span class="p">&gt;</span>A code block with inline styles. Fancy!
<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span>
</code></pre></div>

<p>If the <code>attr_list</code> extension is not enabled, then the key/value pairs will be ignored.</p>
<h4 id="syntax-highlighting">Syntax Highlighting<a class="headerlink" href="#syntax-highlighting" title="Permanent link">&para;</a></h4>
<p>If the <code>fenced_code</code> extension and syntax highlighting are both enabled, then the <a href="../code_hilite/"><code>codehilite</code></a>
extension will be used for syntax highlighting the contents of the code block. The language defined in the attribute
list will be passed to <code>codehilite</code> to ensure that the correct language is used. If no language is specified and
language guessing is not disabled for the <code>codehilite</code> extension, then the language will be guessed.</p>
<p>The <code>codehilite</code> extension uses the <a href="http://pygments.org/">Pygments</a> engine to do syntax highlighting. Any valid Pygments options can be
defined as key/value pairs in the attribute list and will be passed on to Pygments.</p>
<div class="codehilite"><pre><span></span><code>``` { .lang linenos=true linenostart=42 hl_lines=&quot;43-44 50&quot; title=&quot;An Example Code Block&quot; }`
A truncated code block...
```
</code></pre></div>

<p>Valid options include any option accepted by Pygments&rsquo; <a href="https://pygments.org/docs/formatters/#HtmlFormatter"><code>HTMLFormatter</code></a> except for the <code>full</code> option,
as well as any options accepted by the relevant <a href="https://pygments.org/docs/lexers/">lexer</a> (each language has its own lexer). While most lexers
don&rsquo;t have options that are all that useful in this context, there are a few important exceptions. For example, the
<a href="https://pygments.org/docs/lexers/#lexers-for-php-and-related-languages">PHP lexer&rsquo;s</a> <code>startinline</code> option eliminates the need to start each code fragment with <code>&lt;?php</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>fenced_code</code> extension does not alter the output provided by Pygments. Therefore, only options which Pygments
provides can be utilized. As Pygments does not currently provide a way to define an ID, any ID defined in an
attribute list will be ignored when syntax highlighting is enabled. Additionally, any key/value pairs which are not Pygments options will be ignored, regardless of whether the <code>attr_list</code> extension is enabled.</p>
</div>
<h5 id="enabling-syntax-highlighting">Enabling Syntax Highlighting<a class="headerlink" href="#enabling-syntax-highlighting" title="Permanent link">&para;</a></h5>
<p>To enable syntax highlighting, the <a href="../code_hilite/"><code>codehilite</code></a> extension must be enabled and the <code>codehilite</code>
extension&rsquo;s <code>use_pygments</code> option must be set to <code>True</code> (the default).</p>
<p>Alternatively, so long as the <code>codehilite</code> extension is enabled, you can override a global <code>use_pygments=False</code>
option for an individual code block by including <code>use_pygments=true</code> in the attribute list. While the <code>use_pygments</code>
key/value pair will not be included in the output, all other attributes will behave as they would if syntax
highlighting was enabled only for that code block.</p>
<p>Conversely, to disable syntax highlighting on an individual code block, include <code>use_pygments=false</code> in the attribute
list. While the <code>use_pygments</code> key/value pair will not be included in the output, all other attributes will behave as
they would if syntax highlighting was disabled for that code block regardless of any global setting.</p>
<div class="admonition seealso">
<p class="admonition-title">See Also</p>
<p>You will need to properly install and setup Pygments for syntax highlighting to work. See the <code>codehilite</code>
extension&rsquo;s <a href="../code_hilite/#setup">documentation</a> for details.</p>
</div>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<p>See <a href="../">Extensions</a> for general extension usage. Use <code>fenced_code</code> as the name of the extension.</p>
<p>See the <a href="../../reference/#extensions">Library Reference</a> for information about configuring extensions.</p>
<p>The following option is provided to configure the output:</p>
<ul>
<li><strong id="lang_prefix"><code>lang_prefix</code></strong>:
    The prefix prepended to the language class assigned to the HTML <code>&lt;code&gt;</code> tag. Default: <code>language-</code>.</li>
</ul>
<p>A trivial example:</p>
<div class="codehilite"><pre><span></span><code><span class="n">markdown</span><span class="o">.</span><span class="n">markdown</span><span class="p">(</span><span class="n">some_text</span><span class="p">,</span> <span class="n">extensions</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fenced_code&#39;</span><span class="p">])</span>
</code></pre></div>

                    </div>
                </div>
            </div>
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
                
    <li>
        <a class="reference internal" href="#fenced-code-blocks">Fenced Code Blocks</a>
        <ul>
            
    <li>
        <a class="reference internal" href="#summary">Summary</a>
    </li>
            
    <li>
        <a class="reference internal" href="#syntax">Syntax</a>
        <ul>
            
    <li>
        <a class="reference internal" href="#attributes">Attributes</a>
        <ul>
            
    <li>
        <a class="reference internal" href="#language">Language</a>
    </li>
            
    <li>
        <a class="reference internal" href="#classes">Classes</a>
    </li>
            
    <li>
        <a class="reference internal" href="#id">ID</a>
    </li>
            
    <li>
        <a class="reference internal" href="#keyvalue-pairs">Key/Value Pairs</a>
    </li>
            
    <li>
        <a class="reference internal" href="#syntax-highlighting">Syntax Highlighting</a>
        <ul>
            
    <li>
        <a class="reference internal" href="#enabling-syntax-highlighting">Enabling Syntax Highlighting</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>
            
    <li>
        <a class="reference internal" href="#usage">Usage</a>
    </li>
        </ul>
    </li>
            </ul>
            
            <h4>Previous topic</h4>
            <p class="topless">
                <a href="../extra/" title="previous page">Extra</a>
            </p>

            
            <h4>Next topic</h4>
            <p class="topless">
                <a href="../footnotes/" title="next page">Footnotes</a>
            </p>

            <div role="note" aria-label="source link">
                <h3>This Page</h3>
                <ul class="this-page-menu">
                    <li><a href="https://github.com/Python-Markdown/markdown/issues">Report a Bug</a></li>
                    <li><a href="https://github.com/Python-Markdown/markdown/edit/master/docs/extensions/fenced_code_blocks.md">Edit on GitHub</a></li>
                </ul>
            </div>
            <div id="searchbox" style="display: none" role="search">
                <h3>Quick search</h3>
                <form class="search" action="../../search.html" method="get">
                    <div><input type="text" name="q" placeholder="Search docs" /></div>
                    <div><input type="submit" value="Go" /></div>
                </form>
            </div>
            <script type="text/javascript">$('#searchbox').show(0);</script>

        </div>
    </div>

            <div class="clearer"></div>
        </div>
    <div class="related" role="navigation" aria-label="related navigation">
        <h3>Navigation</h3>
        <ul>
                <li class="right" style="margin-right: 10px">
                    <a href="https://github.com/Python-Markdown/markdown/" title="View this project on GitHub"><img src="../../static/github.png" width=16px style="vertical-align: middle; margin-top: -1px" /></a>
                </li>
            <li class="right" style="margin-right: 10px">
                <a href="../../sitemap.html" title="Sitemap" accesskey="I">index</a>
            </li>
            <li class="right">
                <a href="../footnotes/" title="Footnotes" accesskey="N">next</a> |
            </li>
            <li class="right">
                <a href="../extra/" title="Extra" accesskey="P">previous</a> |
            </li>
            <li><img src="../../py.png"
            alt="icon" style="vertical-align: middle; margin-top: -1px"/></li>
            <li class="nav-item nav-item-0">
                <a href="../..">Python-Markdown 3.3.4 documentation</a> &#187;
            </li>
                    
                    
                    
                    
                    
                    
        <li class="nav-item">
            Officially Supported Extensions
         &#187; </li>
                
                
                
                
                
                
                
        <li class="nav-item">
            <a href="./">Fenced Code Blocks</a>
         &#187; </li>
                
                
                
                
                
                
                
                
                
                
                
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
        </ul>
    </div>
        <div class="footer" role="contentinfo">Copyright &copy; 2010-2017, The Python-Markdown Project.
        Created using <a href="https://www.mkdocs.org/">MkDocs</a> 1.1.
        </div>
        <script>var base_url = '../..';</script>
        <script src="../../search/main.js"></script>

        <!--
        MkDocs version      : 1.1
        Docs Build Date UTC : 2021-02-24 19:59:37
        -->
    </body>
</html>