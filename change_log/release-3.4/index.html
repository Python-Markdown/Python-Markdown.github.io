<!DOCTYPE html>

<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        
        <meta name="author" content="The Python-Markdown Project">
        <link rel="canonical" href="https://Python-Markdown.github.io/change_log/release-3.4/">
        <link rel="shortcut icon" href="../../favicon.ico">
        <link rel="search" title="Search" href="../../search.html" />
        <link rel="next" title="Release Notes for v.3.3" href="../release-3.3/" />
        <link rel="prev" title="Change Log" href="../" />
        <title>Release Notes for v.3.4 &#8212; Python-Markdown 3.4.2 documentation</title>
        <link rel="stylesheet" href="../../static/nature.css" type="text/css" />
        <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
        <script type="text/javascript" src="../../static/jquery.js"></script>
        <script type="text/javascript" src="../../static/underscore.js"></script> 
    </head>

    <body>
    <div class="related" role="navigation" aria-label="related navigation">
        <h3>Navigation</h3>
        <ul>
                <li class="right" style="margin-right: 10px">
                    <a href="https://github.com/Python-Markdown/markdown/" title="View this project on GitHub"><img src="../../static/github.png" width=16px style="vertical-align: middle; margin-top: -1px" /></a>
                </li>
            <li class="right" style="margin-right: 10px">
                <a href="../../sitemap.html" title="Sitemap" accesskey="I">index</a>
            </li>
            <li class="right">
                <a href="../release-3.3/" title="Release Notes for v.3.3" accesskey="N">next</a> |
            </li>
            <li class="right">
                <a href="../" title="Change Log" accesskey="P">previous</a> |
            </li>
            <li><img src="../../py.png"
            alt="icon" style="vertical-align: middle; margin-top: -1px"/></li>
            <li class="nav-item nav-item-0">
                <a href="../..">Python-Markdown 3.4.2 documentation</a> &#187;
            </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
        <li class="nav-item">
            <a href="./">Release Notes for v.3.4</a>
         &#187; </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
        </ul>
    </div>

        <div class="document">
            <div class="documentwrapper">
                <div class="bodywrapper">
                    <div class="body" role="main"><h1 id="python-markdown-34-release-notes">Python-Markdown 3.4 Release Notes<a class="headerlink" href="#python-markdown-34-release-notes" title="Permanent link">&para;</a></h1>
<p>Python-Markdown version 3.4 supports Python versions 3.7, 3.8, 3.9, 3.10 and
PyPy3.</p>
<h2 id="backwards-incompatible-changes">Backwards-incompatible changes<a class="headerlink" href="#backwards-incompatible-changes" title="Permanent link">&para;</a></h2>
<h3 id="the-tables-extension-now-uses-a-style-attribute-instead-of-an-align-attribute-for-alignment">The <code>tables</code> extension now uses a <code>style</code> attribute instead of an <code>align</code> attribute for alignment.<a class="headerlink" href="#the-tables-extension-now-uses-a-style-attribute-instead-of-an-align-attribute-for-alignment" title="Permanent link">&para;</a></h3>
<p>The <a href="https://www.w3.org/TR/html4/present/graphics.html#h-15.1.2">HTML4 spec</a> specifically deprecates the use of the <code>align</code> attribute
and it does not appear at all in the <a href="https://www.w3.org/TR/html53/tabular-data.html#attributes-common-to-td-and-th-elements">HTML5 spec</a>. Therefore, by default,
the <a href="../../extensions/tables/">tables</a> extension will now use the <code>style</code> attribute (setting just the
<code>text-align</code> property) in <code>td</code> and <code>th</code> blocks.</p>
<p>The former behavior is available by setting the <code>use_align_attribute</code>
configuration option to <code>True</code> when enabling the extension.</p>
<p>For example, to configure the old <code>align</code> behavior:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">markdown.extensions.tables</span> <span class="kn">import</span> <span class="n">TableExtension</span>

<span class="n">markdown</span><span class="o">.</span><span class="n">markdown</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">extensions</span><span class="o">=</span><span class="p">[</span><span class="n">TableExtension</span><span class="p">(</span><span class="n">use_align_attribute</span><span class="o">=</span><span class="kc">True</span><span class="p">)])</span>
</code></pre></div>

<h3 id="backslash-unescaping-moved-to-treeprocessor-1131">Backslash unescaping moved to Treeprocessor (#1131).<a class="headerlink" href="#backslash-unescaping-moved-to-treeprocessor-1131" title="Permanent link">&para;</a></h3>
<p>Unescaping backslash escapes has been moved to a Treeprocessor, which  enables
proper HTML escaping during serialization. However, it is recognized that
various third-party extensions may be calling the old class at
<code>postprocessors.UnescapePostprocessor</code>. Therefore, the old class remains in the
code base, but has been deprecated and will be removed in a future release. The
new class <code>treeprocessors.UnescapeTreeprocessor</code> should be used instead.</p>
<h3 id="previously-deprecated-objects-have-been-removed">Previously deprecated objects have been removed<a class="headerlink" href="#previously-deprecated-objects-have-been-removed" title="Permanent link">&para;</a></h3>
<p>Various objects were deprecated in version 3.0 and began raising deprecation
warnings (see the <a href="../release-3.0/">version 3.0 release notes</a> for details). Any of those objects
which remained in version 3.3 have been removed from the code base in version 3.4
and will now raise errors. The relevant objects are listed below.</p>
<table>
<thead>
<tr>
<th>Deprecated Object</th>
<th>Replacement Object</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>markdown.version</code></td>
<td><code>markdown.__version__</code></td>
</tr>
<tr>
<td><code>markdown.version_info</code></td>
<td><code>markdown.__version_info__</code></td>
</tr>
<tr>
<td><code>markdown.util.etree</code></td>
<td><code>xml.etree.ElementTree</code></td>
</tr>
<tr>
<td><code>markdown.util.string_type</code></td>
<td><code>str</code></td>
</tr>
<tr>
<td><code>markdown.util.text_type</code></td>
<td><code>str</code></td>
</tr>
<tr>
<td><code>markdown.util.int2str</code></td>
<td><code>chr</code></td>
</tr>
<tr>
<td><code>markdown.util.iterrange</code></td>
<td><code>range</code></td>
</tr>
<tr>
<td><code>markdown.util.isBlockLevel</code></td>
<td><code>markdown.Markdown().is_block_level</code></td>
</tr>
<tr>
<td><code>markdown.util.Processor().markdown</code></td>
<td><code>markdown.util.Processor().md</code></td>
</tr>
<tr>
<td><code>markdown.util.Registry().__setitem__</code></td>
<td><code>markdown.util.Registry().register</code></td>
</tr>
<tr>
<td><code>markdown.util.Registry().__delitem__</code></td>
<td><code>markdown.util.Registry().deregister</code></td>
</tr>
<tr>
<td><code>markdown.util.Registry().add</code></td>
<td><code>markdown.util.Registry().register</code></td>
</tr>
</tbody>
</table>
<p>In addition, the <code>md_globals</code> parameter of
<code>Markdown.extensions.Extension.extendMarkdown()</code> is no longer recognized as a
valid parameter and will raise an error if provided.</p>
<h2 id="new-features">New features<a class="headerlink" href="#new-features" title="Permanent link">&para;</a></h2>
<p>The following new features have been included in the 3.4 release:</p>
<ul>
<li>
<p>Some new configuration options have been added to the
  <a href="../../extensions/footnotes/">footnotes</a> extension (#1218):</p>
<ul>
<li>
<p>Small refactor of the <code>BACKLINK_TITLE</code> option; The use of <code>format()</code>
  instead of &ldquo;old&rdquo; <code>%d</code> formatter allows one to specify text without the
  need to have the number of the footnote in it (like footnotes on
  Wikipedia for example). The modification is backward compatible so no
  configuration change is required.</p>
</li>
<li>
<p>Addition of a new option <code>SUPERSCRIPT_TEXT</code> that allows one to specify a
  custom placeholder for the footnote itself in the text.
  Ex: <code>[{}]</code> will give <code>&lt;sup&gt;[1]&lt;/sup&gt;</code>, <code>({})</code> will give <code>&lt;sup&gt;(1)&lt;/sup&gt;</code>,
  or by default, the current behavior: <code>&lt;sup&gt;1&lt;/sup&gt;</code>.</p>
</li>
</ul>
</li>
<li>
<p>The <a href="../../extensions/toc/">Table of Contents</a> extension now accepts a
  <code>toc_class</code> parameter which can be used to set the CSS class(es) on the
  <code>&lt;div&gt;</code> that contains the Table of Contents (#1224).</p>
</li>
<li>
<p>The CodeHilite extension now supports a <code>pygments_formatter</code> option that can
  be set to a custom formatter class (#1187).</p>
<ul>
<li>If <code>pygments_formatter</code> is set to a string (ex: <code>'html'</code>), Pygments&rsquo;
  default formatter by that name is used.</li>
<li>If <code>pygments_formatter</code> is set to a formatter class (or any callable
  which returns a formatter instance), then an instance of that class is
  used.</li>
</ul>
<p>The formatter class is now passed an additional option, <code>lang_str</code>, to
denote the language of the code block (#1258). While Pygments&rsquo; built-in
formatters will ignore the option, a custom formatter assigned to the
<code>pygments_formatter</code> option can make use of the <code>lang_str</code> to include the
code block&rsquo;s language in the output.</p>
</li>
</ul>
<h2 id="bug-fixes">Bug fixes<a class="headerlink" href="#bug-fixes" title="Permanent link">&para;</a></h2>
<p>The following bug fixes are included in the 3.4 release:</p>
<ul>
<li>Extension entry-points are only loaded if needed (#1216).</li>
<li>Added additional checks to the <code>&lt;pre&gt;&lt;code&gt;</code> handling of
  <code>PrettifyTreeprocessor</code> (#1261, #1263).</li>
</ul>

                    </div>
                </div>
            </div>
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
                
    <li>
        <a class="reference internal" href="#python-markdown-34-release-notes">Python-Markdown 3.4 Release Notes</a>
        <ul>
            
    <li>
        <a class="reference internal" href="#backwards-incompatible-changes">Backwards-incompatible changes</a>
        <ul>
            
    <li>
        <a class="reference internal" href="#the-tables-extension-now-uses-a-style-attribute-instead-of-an-align-attribute-for-alignment">The tables extension now uses a style attribute instead of an align attribute for alignment.</a>
    </li>
            
    <li>
        <a class="reference internal" href="#backslash-unescaping-moved-to-treeprocessor-1131">Backslash unescaping moved to Treeprocessor (#1131).</a>
    </li>
            
    <li>
        <a class="reference internal" href="#previously-deprecated-objects-have-been-removed">Previously deprecated objects have been removed</a>
    </li>
        </ul>
    </li>
            
    <li>
        <a class="reference internal" href="#new-features">New features</a>
    </li>
            
    <li>
        <a class="reference internal" href="#bug-fixes">Bug fixes</a>
    </li>
        </ul>
    </li>
            </ul>
            
            <h4>Previous topic</h4>
            <p class="topless">
                <a href="../" title="previous page">Change Log</a>
            </p>

            
            <h4>Next topic</h4>
            <p class="topless">
                <a href="../release-3.3/" title="next page">Release Notes for v.3.3</a>
            </p>

            <div role="note" aria-label="source link">
                <h3>This Page</h3>
                <ul class="this-page-menu">
                    <li><a href="https://github.com/Python-Markdown/markdown/issues">Report a Bug</a></li>
                    <li><a href="https://github.com/Python-Markdown/markdown/edit/master/docs/change_log/release-3.4.md">Edit on GitHub</a></li>
                </ul>
            </div>
            <div id="searchbox" style="display: none" role="search">
                <h3>Quick search</h3>
                <form class="search" action="../../search.html" method="get">
                    <div><input type="text" name="q" placeholder="Search docs" /></div>
                    <div><input type="submit" value="Go" /></div>
                </form>
            </div>
            <script type="text/javascript">$('#searchbox').show(0);</script>

        </div>
    </div>

            <div class="clearer"></div>
        </div>
    <div class="related" role="navigation" aria-label="related navigation">
        <h3>Navigation</h3>
        <ul>
                <li class="right" style="margin-right: 10px">
                    <a href="https://github.com/Python-Markdown/markdown/" title="View this project on GitHub"><img src="../../static/github.png" width=16px style="vertical-align: middle; margin-top: -1px" /></a>
                </li>
            <li class="right" style="margin-right: 10px">
                <a href="../../sitemap.html" title="Sitemap" accesskey="I">index</a>
            </li>
            <li class="right">
                <a href="../release-3.3/" title="Release Notes for v.3.3" accesskey="N">next</a> |
            </li>
            <li class="right">
                <a href="../" title="Change Log" accesskey="P">previous</a> |
            </li>
            <li><img src="../../py.png"
            alt="icon" style="vertical-align: middle; margin-top: -1px"/></li>
            <li class="nav-item nav-item-0">
                <a href="../..">Python-Markdown 3.4.2 documentation</a> &#187;
            </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
        <li class="nav-item">
            <a href="./">Release Notes for v.3.4</a>
         &#187; </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
        </ul>
    </div>
        <div class="footer" role="contentinfo">Copyright &copy; 2010-2023, The Python-Markdown Project.
        Created using <a href="https://www.mkdocs.org/">MkDocs</a> 1.1.2.
        </div>
        <script>var base_url = '../..';</script>
        <script src="../../search/main.js"></script>

        <!--
        MkDocs version      : 1.1.2
        Docs Build Date UTC : 2023-03-22 17:10:20.881480+00:00
        -->
    </body>
</html>